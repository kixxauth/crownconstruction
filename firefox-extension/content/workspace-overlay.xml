<overlay>
<div id="workspace">
<!--
Application overlay HTML snippet.
=================================
-->

<!--
## Top menu bar
-->
<ul id="menu-bar">
</ul><!-- menu-bar -->

<!--
## Navigation side bar
-->
<ul id="navigation">
  <!-- ### Search navigation -->
  <li class="navigation section search">
    <span class="navigation section">Search</span>
    <ul class="navigation options">
      <li class="navigation sub-section">
        <a href="search/jobs" id="search-jobs" class="bbq navigation sub-section">Jobs</a>
      </li>
      <li class="navigation sub-section">
        <a href="search/customers" id="search-customers" class="bbq navigation sub-section">Customers</a>
      </li>
    </ul>
  </li><!-- search -->

  <!-- ### Customers navigation -->
  <li class="navigation section customers">
    <a href="panels/customers" class="bbq navigation">Customers</a>
    <ul class="navigation options">
      <li class="navigation sub-section">
        <a href="search/customers" id="customers-search" class="bbq navigation sub-section">Search</a>
      </li>
      <li class="navigation sub-section">
        <a href="customers/create" class="cmd navigation">Create</a>
      </li>
    </ul>
  </li><!-- customers -->

  <!-- ### Jobs navigation -->
  <li class="navigation section jobs">
    <a href="panels/jobs" class="bbq navigation">Jobs</a>
    <ul class="navigation options">
      <li class="navigation sub-section">
        <a href="search/jobs" id="jobs-search" class="bbq navigation sub-section">Search</a>
      </li>
      <li class="navigation sub-section">
        <a href="search/customers?mode=newjob" class="cmd navigation">Create</a>
      </li>
    </ul>
  </li><!-- jobs -->

  <!-- ### Personnel navigation -->
  <li class="navigation section personnel">
    <a href="panels/personnel" class="bbq navigation">Personnel</a>
    <ul class="navigation options">
      <li class="navigation sub-section">
        <a href="personnel/directory" class="bbq navigation">Directory</a>
      </li>
      <li class="navigation sub-section">
        <a href="personnel/create" class="cmd navigation">Create</a>
      </li>
    </ul>
  </li><!-- personnel -->
</ul><!-- navigation -->

<!--
## Main application tabset

  BBQ URL hashes for panel navigation should be in
  the form '#panels/'+ panel_name
-->

<div id="tabset">
  <!-- ### Customers panel -->
  <div id="customers" class="tab-panel">
    <!-- #### Customer view widget -->
    <form id="customers-view" class="fform inner-tab-panel">
      <fieldset id="customers-names" class="fform content-panel">
        <h4 class="section-header">Names</h4>
      </fieldset>
      <fieldset id="customers-phones" class="fform content-panel">
        <h4 class="section-header">Phone Numbers</h4>
      </fieldset>
      <fieldset id="customers-addresses" class="fform content-panel">
        <h4 class="section-header">Addresses</h4>
      </fieldset>
      <fieldset id="customers-emails" class="fform content-panel">
        <h4 class="section-header">Email Addresses</h4>
      </fieldset>
    </form><!-- customer-view -->

    <!-- ### Customer view templates -->
    <template id="customers_names-template"><![CDATA[
      <h4 class="section-header">Names</h4>
      <%
      var i = 0, len = names.length, name;
      for (; i < len; i += 1) {
      name = names[i];  %>
      <div class="input-section">
        <div class="line">
          <p class="input-float"><label class="live-label">last:</label>
            <input class="clean-text-input fform lastname" type="text"
              name="<%= name.last.path %>" value="<%= name.last.value %>" />
          </p>
          <p class="input-float"><label class="live-label">first:</label>
            <input class="clean-text-input fform firstname" type="text"
              name="<%= name.first.path %>" value="<%= name.first.value %>" />
          </p>
        </div>
      </div>
      <% } %>
      <a href="names" class="append fform button" title="Add another contact person.">
        <span class="icon">+</span>
        Add another contact person.
      </a>
    ]]></template>
    <template id="customers_addresses-template"><![CDATA[
      <h4 class="section-header">Addresses</h4>
      <%
      var i = 0, len = addresses.length, address;
      for (; i < len; i += 1) {
      address = addresses[i]; %>
      <div class="input-section">
        <div class="line">
          <p>
            <label class="live-label">street:</label>
            <input class="clean-text-input fform street-address" type="text"
              name="<%= address.street.path %>" value="<%= address.street.value %>" />
          </p>
        </div>
        <div class="line">
          <p class="input-float">
            <label class="live-label">city:</label>
            <input class="clean-text-input fform city" type="text"
              name="<%= address.city.path %>" value="<%= address.city.value %>" />
          </p>
          <p class="input-float">
            <label class="live-label">state:</label>
            <input class="clean-text-input fform state-address" type="text"
              name="<%= address.state.path %>" value="<%= address.state.value %>" />
          </p>
          <p class="input-float">
            <label class="live-label">zip:</label>
            <input class="clean-text-input fform zip" type="text"
              name="<%= address.zip.path %>" value="<%= address.zip.value %>" />
          </p>
        </div>
      </div>
      <% } %>
      <a href="addresses" class="append fform button" title="Add another customer address.">
        <span class="icon">+</span>
        Add another address.
      </a>
    ]]></template>
    <template id="customers_phones-template"><![CDATA[
      <h4 class="section-header">Phone Numbers</h4>
      <%
      var i = 0, len = phones.length, phone;
      for (; i < len; i += 1) {
      phone = phones[i]; %>
      <div class="input-section">
        <div class="line">
          <p class="input-float">
            <label class="live-label">number:</label>
            <input class="clean-text-input fform phone" type="text"
              name="<%= phone.phone.path %>" value="<%= phone.phone.value %>" />
          </p>
          <p class="input-float">
            <label class="live-label">label:</label>
            <input class="clean-text-input fform label" type="text"
              name="<%= phone.label.path %>" value="<%= phone.label.value %>" />
          </p>
        </div>
      </div>
      <% } %>
      <a href="phones" class="append fform button" title="Add another phone number.">
        <span class="icon">+</span>
        Add another phone number.
      </a>
    ]]></template>
    <template id="customers_emails-template"><![CDATA[
      <h4 class="section-header">Email Addresses</h4>
      <%
      var i = 0, len = emails.length, email;
      for (; i < len; i += 1) {
      email = emails[i]; %>
      <div class="input-section">
        <div class="line">
          <p class="input-float">
            <label class="live-label">email:</label>
            <input class="clean-text-input fform email" type="text"
              name="<%= email.email.path %>" value="<%= email.email.value %>" />
          </p>
          <p class="input-float">
            <label class="live-label">label:</label>
            <input class="clean-text-input fform label" type="text"
              name="<%= email.label.path %>" value="<%= email.label.value %>" />
          </p>
        </div>
      </div>
      <% } %>
      <a href="emails" class="append fform button" title="Add another email address.">
        <span class="icon">+</span>
        Add another email address.
      </a>
    ]]></template>
  </div><!-- panel-customers -->

  <!-- ### Jobs panel -->
  <div id="jobs" class="tab-panel">
    <!-- #### Job view widget -->
    <form id="jobs-view" class="fform inner-tab-panel">
      <fieldset id="jobs-header" class="fform content-panel">
        <h4 class="section-header">Job Info</h4>
      </fieldset>
      <template id="jobs_header-template"><![CDATA[
        <h4 class="section-header">Job Info</h4>
        <div class="input-section">
          <div class="line">
            <p class="input-float"><label class="live-label">Job ID:</label>
              <input class="clean-text-input fform job-id" type="text"
                name="<%= strname.path %>" value="<%= strname.value %>" />
            </p>
          </div>
          <div class="line">
            <p class="input-float"><label class="live-label">description:</label>
              <input class="clean-text-input fform job-id" type="text"
                name="<%= description.path %>" value="<%= description.value %>" />
            </p>
          </div>
        </div>
      ]]></template>
      <fieldset id="jobs-dates" class="fform content-panel">
        <h4 class="section-header">Dates</h4>
      </fieldset>
      <template id="jobs_dates-template"><![CDATA[
        <h4 class="section-header">Dates</h4>
        <div class="input-section">
          <div class="line">
            <p class="input-float"><label class="live-label">Contract Date:</label>
              <input class="clean-text-input fform date" type="text"
                name="<%= contractdate.path %>" value="<%= contractdate.value %>" />
            </p>
          </div>
          <div class="line">
            <h5 class="section-label">Start Date</h5>
            <p class="input-float"><label class="live-label">Estimated:</label>
              <input class="clean-text-input fform date" type="text"
                name="<%= est_startdate.path %>" value="<%= est_startdate.value %>" />
            </p>
            <p class="input-float"><label class="live-label">Actual:</label>
              <input class="clean-text-input fform date" type="text"
                name="<%= startdate.path %>" value="<%= startdate.value %>" />
            </p>
          </div>
          <div class="line">
            <h5 class="section-label">Complete Date</h5>
            <p class="input-float"><label class="live-label">Estimated:</label>
              <input class="clean-text-input fform date" type="text"
                name="<%= est_completedate.path %>" value="<%= est_completedate.value %>" />
            </p>
            <p class="input-float"><label class="live-label">Actual:</label>
              <input class="clean-text-input fform date" type="text"
                name="<%= completedate.path %>" value="<%= completedate.value %>" />
            </p>
          </div>
          <div class="line">
            <h5 class="section-label">Handoff</h5>
            <p class="input-float"><label class="live-label">Scheduled:</label>
              <input class="clean-text-input fform date" type="text"
                name="<%= handoff.scheduled.path %>" value="<%= handoff.scheduled.value %>" />
            </p>
            <p class="input-float"><label class="live-label">Completed:</label>
              <input class="clean-text-input fform date" type="text"
                name="<%= handoff.completed.path %>" value="<%= handoff.completed.value %>" />
            </p>
          </div>
          <div class="line">
            <h5 class="section-label">Walkthrough</h5>
            <p class="input-float"><label class="live-label">Scheduled:</label>
              <input class="clean-text-input fform date" type="text"
                name="<%= walkthrough.scheduled.path %>" value="<%= walkthrough.scheduled.value %>" />
            </p>
            <p class="input-float"><label class="live-label">Completed:</label>
              <input class="clean-text-input fform date" type="text"
                name="<%= walkthrough.completed.path %>" value="<%= walkthrough.completed.value %>" />
            </p>
          </div>
        </div>
      ]]></template>
      <fieldset id="jobs-payments" class="fform content-panel">
        <h4 class="section-header">Payments</h4>
      </fieldset>
      <template id="jobs_payments-template"><![CDATA[
        <h4 class="section-header">Payments</h4>
        <table class="input">
          <th>
            <td>Due</td>
            <td>Memo</td>
            <td>Amount</td>
          </th>
        <%
        var i = 0, payment;
        for (; i < payments.length; i += 1) {
          payment = payments[i]; %>
          <tr>
            <td>
              <input class="clean-text-input fform date" type="text"
                name="<%= payment.due.path %>" value="<%= payment.due.value %>" />
            </td>
            <td>
              <input class="clean-text-input fform memo" type="text"
                name="<%= payment.memo.path %>" value="<%= payment.memo.value %>" />
            </td>
            <td>
              <input class="clean-text-input fform money-6" type="text"
                name="<%= payment.amount.path %>" value="<%= payment.amount.value %>" />
            </td>
          </tr>
        <% } %>
        </table>
        <table class="input">
          <th>
            <td>Direct Pays</td>
          </th>
        <%
        i = 0;
        for (; i < direct_pays.length; i += 1) {
          payment = direct_pays[i]; %>
          <tr>
            <td>
              <input class="clean-text-input fform memo" type="text"
                name="<%= payment.path %>" value="<%= payment.value %>" />
            </td>
          </tr>
        <% } %>
        </table>
      ]]></template>
      <fieldset id="jobs-special-orders" class="fform content-panel">
        <h4 class="section-header">Special Orders</h4>
      </fieldset>
      <fieldset id="jobs-subcontractors" class="fform content-panel">
        <h4 class="section-header">Sub Conractors</h4>
      </fieldset>
      <fieldset id="jobs-siding" class="fform content-panel">
        <h4 class="section-header">Siding</h4>
      </fieldset>
      <fieldset id="jobs-roofing" class="fform content-panel">
        <h4 class="section-header">Roofing</h4>
      </fieldset>
      <fieldset id="jobs-permits" class="fform content-panel">
        <h4 class="section-header">Permits</h4>
      </fieldset>
      <fieldset id="jobs-estimate" class="fform content-panel">
        <h4 class="section-header">Estimate</h4>
      </fieldset>
      <fieldset id="jobs-profitandtaxes" class="fform content-panel">
        <h4 class="section-header">Finances</h4>
      </fieldset>
    </form><!-- job-view -->
  </div><!-- panel-jobs -->

  <!-- ### Personnel panel -->
  <div id="personnel" class="tab-panel">
    <!-- #### Personnel directory widget -->
    <div id="personnel-directory" class="personnel-panel inner-tab-panel">
      <ul id="personnel-group-list">
      </ul>
    </div>
    <!-- #### Personnel directory template -->
    <template id="personnel_directory-template"><![CDATA[
      <%
      var group_name, group, i, member;
      for (group_name in groups) {
        if (Object.prototype.hasOwnProperty.call(groups, group_name)) {
        group = groups[group_name]; %>
      <li class="personnel-group">
        <h4 class="personnel-group-name"><%= group_name %></h4>
        <ul class="personnel-group-members">
          <%
          for (i = 0; i < group.length; i += 1) {
            member = group[i]; %>
          <li class="employee">
          <a class="bbq employee-directory"
            href="personnel/view?key=<%= member.key %>">
            <%= member.name %>
          </a>
          </li>
          <%
          } %>
        </ul>
      </li>
      <%
        }
      } %>
    ]]></template>

    <!-- #### Personnel view widget -->
    <form id="personnel-view" class="fform personnel-panel inner-tab-panel">
      <fieldset id="personnel-name" class="fform content-panel">
        <h4 class="section-header">Name</h4>
      </fieldset>
      <fieldset id="personnel-phones" class="fform content-panel">
        <h4 class="section-header">Phone Numbers</h4>
      </fieldset>
      <fieldset id="personnel-groups" class="fform content-panel">
        <h4 class="section-header">Groups</h4>
      </fieldset>
      <fieldset id="personnel-addresses" class="fform content-panel">
        <h4 class="section-header">Addresses</h4>
      </fieldset>
    </form><!-- personnel-view -->

    <!-- #### Personnel view templates -->
    <template id="personnel_name-template"><![CDATA[
      <h4 class="section-header">Name</h4>
      <div class="input-section">
        <div class="line">
          <p class="input-float"><label class="live-label">last:</label>
            <input class="clean-text-input fform lastname" type="text"
              name="<%= name.last.path %>" value="<%= name.last.value %>" />
          </p>
          <p class="input-float"><label class="live-label">first:</label>
            <input class="clean-text-input fform firstname" type="text"
              name="<%= name.first.path %>" value="<%= name.first.value %>" />
          </p>
        </div>
      </div>
    ]]></template>
    <template id="personnel_addresses-template"><![CDATA[
      <h4 class="section-header">Addresses</h4>
      <%
      var i = 0, len = addresses.length, address;
      for (; i < len; i += 1) {
        address = addresses[i]; %>
      <div class="input-section">
        <div class="line">
          <p>
            <label class="live-label">street:</label>
            <input class="clean-text-input fform street-address" type="text"
              name="<%= address.street.path %>" value="<%= address.street.value %>" />
          </p>
        </div>
        <div class="line">
          <p class="input-float">
            <label class="live-label">city:</label>
            <input class="clean-text-input fform city" type="text"
              name="<%= address.city.path %>" value="<%= address.city.value %>" />
          </p>
          <p class="input-float">
            <label class="live-label">state:</label>
            <input class="clean-text-input fform state-address" type="text"
              name="<%= address.state.path %>" value="<%= address.state.value %>" />
          </p>
          <p class="input-float">
            <label class="live-label">zip:</label>
            <input class="clean-text-input fform zip" type="text"
              name="<%= address.zip.path %>" value="<%= address.zip.value %>" />
          </p>
        </div>
      </div>
      <%
      } %>
      <a href="addresses" class="append fform button" title="Add another customer address.">
        <span class="icon">+</span>
        Add another address.
      </a>
    ]]></template>
    <template id="personnel_phones-template"><![CDATA[
      <h4 class="section-header">Phone Numbers</h4>
      <%
      var i = 0, len = phones.length, phone;
      for (; i < len; i += 1) {
      phone = phones[i]; %>
      <div class="input-section">
        <div class="line">
          <p class="input-float">
            <label class="live-label">number:</label>
            <input class="clean-text-input fform phone" type="text"
              name="<%= phone.phone.path %>" value="<%= phone.phone.value %>" />
          </p>
          <p class="input-float">
            <label class="live-label">label:</label>
            <input class="clean-text-input fform label" type="text"
              name="<%= phone.label.path %>" value="<%= phone.label.value %>" />
          </p>
        </div>
      </div>
      <%
      } %>
      <a href="phones" class="append fform button" title="Add another phone number.">
        <span class="icon">+</span>
        Add another phone number.
      </a>
    ]]></template>
    <template id="personnel_groups-template"><![CDATA[
      <h4 class="section-header">Groups</h4>
      <div class="input-section">
        <div class="line">
          <p class="input-float">
            <label class="live-label">groups:</label>
            <input class="clean-text-input fform groups" type="text"
              name="<%= groups.path %>" value="<%= groups.value %>" />
          </p>
        </div>
      </div>
    ]]></template>
  </div><!-- panel-customers -->
</div><!-- tabset -->

<!--
## Search panels
-->

<!-- ### Job search panel -->
<div id="job-search" class="content-panel search-panel">
  <h4 class="section-header">
    Job Search
    <a href="search/none" class="bbq panel-close">x</a>
  </h4>
  <ul id="job-search-results" class="search-results-list">
  </ul>
</div><!-- job-search -->

<!-- ### Customer search panel -->
<div id="customer-search" class="content-panel search-panel">
  <h4 class="section-header">
    Customer Search
    <a href="search/none" class="bbq panel-close">x</a>
  </h4>
  <form id="customer-search-form">
    <p class="customer-search-form">
      <label class="customer-search-form">
        Last name starts with:
      </label>
      <input id="customer-search-lastname" class="customer-search-form" type="text" />
    </p>
    <button id="customer-search-button">Find</button>
  </form>
  <ul id="customer-search-results" class="search-results-list">
  </ul>
</div><!-- customer-search -->

<!-- #### Customer search results template -->
<template id="customer_search_results-template"><![CDATA[
  <%
  var i = 0, customer;
  for (; i < customers.length; i += 1) {
  customer = customers[i]; %>
  <li class="search-result">
    <a class="<%= link_class %> search-result" href="<%= link_hash %><%= customer.key %>">
      <%= customer.names[0].first %> <%= customer.names[0].last %>
    </a>
  </li>
  <% } %>
]]></template>

</div>
</overlay>

<overlay>
<div id="workspace">
<!--
Application overlay HTML snippet.
=================================
-->

<!--
## Top menu bar
-->
<ul id="menu-bar">
</ul><!-- menu-bar -->

<!--
## Navigation side bar
-->
<ul id="navigation">
  <li class="navigation section">
    <a href="panels/default" class="bbq navigation">
      <span class="navigation twisty">+</span>
      Start
    </a>
  </li>
  <li class="navigation section">
    <h4 class="navigation">Search</h4>
  </li>
  <li class="navigation section">
    <a href="search/customers" class="bbq navigation">
      <span class="navigation twisty">+</span>
      Customers
    </a>
  </li>
  <li class="navigation section">
    <a href="search/jobs" class="bbq navigation">
      <span class="navigation twisty">+</span>
      Jobs
    </a>
  </li>
  <li class="navigation section">
    <h4 class="navigation">Panels</h4>
  </li>
  <li class="navigation section">
    <a href="panels/customers" class="bbq navigation">
      <span class="navigation twisty">+</span>
      Customers
    </a>
  </li>
  <li class="navigation section">
    <a href="panels/jobs" class="bbq navigation">
      <span class="navigation twisty">+</span>
      Jobs
    </a>
  </li>
  <li class="navigation section">
    <a href="panels/personnel" class="bbq navigation">
      <span class="navigation twisty">+</span>
      Personnel
    </a>
  </li>
</ul><!-- navigation -->

<!--
## Main application tabset

  BBQ URL hashes for panel navigation should be in
  the form '#panels/'+ panel_name
-->

<div id="tabset">
  <!-- ### Default panel -->
  <div id="default" class="tab-panel">
    <!-- #### Default panel navigation -->
    <ul id="default-panel-navigation" class="panel-navigation">
      <li class="panel-navigation default home">
        <a href="default/home" class="bbq panel-navigation">Start</a>
      </li>
      <li class="panel-navigation default controls">
        <a href="default/controls" class="bbq panel-navigation">Controls</a>
      </li>
    </ul>
    <!-- #### Default home widget -->
    <div id="default-home" class="inner-tab-panel">
      <p>Default home.</p>
    </div>
    <!-- #### Default controls widget -->
    <div id="default-controls" class="inner-tab-panel">
      <p>Control panel.</p>
    </div><!-- default-controls -->
  </div><!-- panel-default -->

  <!-- ### Customers panel -->
  <div id="customers" class="tab-panel">
    <!-- #### Customer panel navigation -->
    <ul id="customers-panel-navigation" class="panel-navigation">
      <li class="panel-navigation customers home">
        <a href="customers/home" class="bbq panel-navigation">
          Customers Panel
        </a>
      </li>
      <li class="panel-navigation customers view">
        <span class="panel-navigation"></span>
      </li>
      <li class="panel-navigation customers search">
        <a href="search/customers" class="bbq panel-navigation">
          Find
        </a>
      </li>
      <li class="panel-navigation customers create">
        <a href="customers/create" class="cmd panel-navigation">
          Create New
        </a>
      </li>
    </ul>
    <!-- #### Customer home widget -->
    <div id="customers-home" class="inner-tab-panel">
      <p>Customers home.</p>
    </div>
    <!-- #### Customer view widget -->
    <form id="customers-view" class="fform inner-tab-panel">
      <fieldset id="customers-names" class="fform content-panel">
        <h4 class="section-header">Names</h4>
      </fieldset>
      <template id="customers_names-template"><![CDATA[
        <h4 class="section-header">Names</h4>
        <%
        var i = 0, len = names.length, name;
        for (; i < len; i += 1) {
        name = names[i];  %>
        <div class="input-section">
          <div class="line">
            <p class="input-float"><label class="live-label">last:</label>
              <input class="clean-text-input fform lastname" type="text"
                name="<%= name.last.path %>" value="<%= name.last.value %>" />
            </p>
            <p class="input-float"><label class="live-label">first:</label>
              <input class="clean-text-input fform firstname" type="text"
                name="<%= name.first.path %>" value="<%= name.first.value %>" />
            </p>
          </div>
        </div>
        <% } %>
        <a href="names" class="append fform button" title="Add another contact person.">
          <span class="icon">+</span>
          Add another contact person.
        </a>
      ]]></template>
      <fieldset id="customers-phones" class="fform content-panel">
        <h4 class="section-header">Phone Numbers</h4>
      </fieldset>
      <template id="customers_phones-template"><![CDATA[
        <h4 class="section-header">Phone Numbers</h4>
        <%
        var i = 0, len = phones.length, phone;
        for (; i < len; i += 1) {
        phone = phones[i]; %>
        <div class="input-section">
          <div class="line">
            <p class="input-float">
              <label class="live-label">number:</label>
              <input class="clean-text-input fform phone" type="text"
                name="<%= phone.phone.path %>" value="<%= phone.phone.value %>" />
            </p>
            <p class="input-float">
              <label class="live-label">label:</label>
              <input class="clean-text-input fform label" type="text"
                name="<%= phone.label.path %>" value="<%= phone.label.value %>" />
            </p>
          </div>
        </div>
        <% } %>
        <a href="phones" class="append fform button" title="Add another phone number.">
          <span class="icon">+</span>
          Add another phone number.
        </a>
      ]]></template>
      <fieldset id="customers-addresses" class="fform content-panel">
        <h4 class="section-header">Addresses</h4>
      </fieldset>
      <template id="customers_addresses-template"><![CDATA[
        <h4 class="section-header">Addresses</h4>
        <%
        var i = 0, len = addresses.length, address;
        for (; i < len; i += 1) {
        address = addresses[i]; %>
        <div class="input-section">
          <div class="line">
            <p>
              <label class="live-label">street:</label>
              <input class="clean-text-input fform street-address" type="text"
                name="<%= address.street.path %>" value="<%= address.street.value %>" />
            </p>
          </div>
          <div class="line">
            <p class="input-float">
              <label class="live-label">city:</label>
              <input class="clean-text-input fform city" type="text"
                name="<%= address.city.path %>" value="<%= address.city.value %>" />
            </p>
            <p class="input-float">
              <label class="live-label">state:</label>
              <input class="clean-text-input fform state-address" type="text"
                name="<%= address.state.path %>" value="<%= address.state.value %>" />
            </p>
            <p class="input-float">
              <label class="live-label">zip:</label>
              <input class="clean-text-input fform zip" type="text"
                name="<%= address.zip.path %>" value="<%= address.zip.value %>" />
            </p>
          </div>
        </div>
        <% } %>
        <a href="addresses" class="append fform button" title="Add another customer address.">
          <span class="icon">+</span>
          Add another address.
        </a>
      ]]></template>
      <fieldset id="customers-emails" class="fform content-panel">
        <h4 class="section-header">Email Addresses</h4>
      </fieldset>
      <template id="customers_emails-template"><![CDATA[
        <h4 class="section-header">Email Addresses</h4>
        <%
        var i = 0, len = emails.length, email;
        for (; i < len; i += 1) {
        email = emails[i]; %>
        <div class="input-section">
          <div class="line">
            <p class="input-float">
              <label class="live-label">email:</label>
              <input class="clean-text-input fform email" type="text"
                name="<%= email.email.path %>" value="<%= email.email.value %>" />
            </p>
            <p class="input-float">
              <label class="live-label">label:</label>
              <input class="clean-text-input fform label" type="text"
                name="<%= email.label.path %>" value="<%= email.label.value %>" />
            </p>
          </div>
        </div>
        <% } %>
        <a href="emails" class="append fform button" title="Add another email address.">
          <span class="icon">+</span>
          Add another email address.
        </a>
      ]]></template>
    </form><!-- customer-view -->
  </div><!-- panel-customers -->

  <!-- ### Jobs panel -->
  <div id="jobs" class="tab-panel">
    <!-- #### Jobs panel navigation -->
    <ul id="jobs-panel-navigation" class="panel-navigation">
      <li class="panel-navigation jobs home">
        <a href="jobs/home" class="bbq panel-navigation">
          Jobs Panel
        </a>
      </li>
      <li class="panel-navigation jobs search">
        <a href="search/jobs" class="bbq panel-navigation">
          Find
        </a>
      </li>
      <li class="panel-navigation jobs create">
        <a href="search/customers?mode=newjob" class="cmd panel-navigation">
          Create New Job
        </a>
      </li>
    </ul>
    <!-- #### Jobs home widget -->
    <div id="jobs-home" class="inner-tab-panel">
      <p>Jobs home.</p>
    </div>
    <!-- #### Job view widget -->
    <form id="jobs-view" class="fform inner-tab-panel">
      <fieldset id="jobs-header" class="fform content-panel">
        <h4 class="section-header">Job Info</h4>
      </fieldset>
      <template id="jobs_header-template"><![CDATA[
        <h4 class="section-header">Job Info</h4>
        <div class="input-section">
          <div class="line">
            <p class="input-float"><label class="live-label">Job ID:</label>
              <input class="clean-text-input fform job-id" type="text"
                name="<%= strname.path %>" value="<%= strname.value %>" />
            </p>
          </div>
          <div class="line">
            <p class="input-float"><label class="live-label">description:</label>
              <input class="clean-text-input fform job-id" type="text"
                name="<%= description.path %>" value="<%= description.value %>" />
            </p>
          </div>
        </div>
      ]]></template>
      <fieldset id="jobs-dates" class="fform content-panel">
        <h4 class="section-header">Dates</h4>
      </fieldset>
      <template id="jobs_dates-template"><![CDATA[
        <h4 class="section-header">Dates</h4>
        <div class="input-section">
          <div class="line">
            <p class="input-float"><label class="live-label">Contract Date:</label>
              <input class="clean-text-input fform date" type="text"
                name="<%= contractdate.path %>" value="<%= contractdate.value %>" />
            </p>
          </div>
          <div class="line">
            <h5 class="section-label">Start Date</h5>
            <p class="input-float"><label class="live-label">Estimated:</label>
              <input class="clean-text-input fform date" type="text"
                name="<%= est_startdate.path %>" value="<%= est_startdate.value %>" />
            </p>
            <p class="input-float"><label class="live-label">Actual:</label>
              <input class="clean-text-input fform date" type="text"
                name="<%= startdate.path %>" value="<%= startdate.value %>" />
            </p>
          </div>
          <div class="line">
            <h5 class="section-label">Complete Date</h5>
            <p class="input-float"><label class="live-label">Estimated:</label>
              <input class="clean-text-input fform date" type="text"
                name="<%= est_completedate.path %>" value="<%= est_completedate.value %>" />
            </p>
            <p class="input-float"><label class="live-label">Actual:</label>
              <input class="clean-text-input fform date" type="text"
                name="<%= completedate.path %>" value="<%= completedate.value %>" />
            </p>
          </div>
          <div class="line">
            <h5 class="section-label">Handoff</h5>
            <p class="input-float"><label class="live-label">Scheduled:</label>
              <input class="clean-text-input fform date" type="text"
                name="<%= handoff.scheduled.path %>" value="<%= handoff.scheduled.value %>" />
            </p>
            <p class="input-float"><label class="live-label">Completed:</label>
              <input class="clean-text-input fform date" type="text"
                name="<%= handoff.completed.path %>" value="<%= handoff.completed.value %>" />
            </p>
          </div>
          <div class="line">
            <h5 class="section-label">Walkthrough</h5>
            <p class="input-float"><label class="live-label">Scheduled:</label>
              <input class="clean-text-input fform date" type="text"
                name="<%= walkthrough.scheduled.path %>" value="<%= walkthrough.scheduled.value %>" />
            </p>
            <p class="input-float"><label class="live-label">Completed:</label>
              <input class="clean-text-input fform date" type="text"
                name="<%= walkthrough.completed.path %>" value="<%= walkthrough.completed.value %>" />
            </p>
          </div>
        </div>
      ]]></template>
      <fieldset id="jobs-payments" class="fform content-panel">
        <h4 class="section-header">Payments</h4>
      </fieldset>
      <template id="jobs_payments-template"><![CDATA[
        <h4 class="section-header">Payments</h4>
        <table class="input">
          <th>
            <td>Due</td>
            <td>Memo</td>
            <td>Amount</td>
          </th>
        <%
        var i = 0, payment;
        for (; i < payments.length; i += 1) {
          payment = payments[i]; %>
          <tr>
            <td>
              <input class="clean-text-input fform date" type="text"
                name="<%= payment.due.path %>" value="<%= payment.due.value %>" />
            </td>
            <td>
              <input class="clean-text-input fform memo" type="text"
                name="<%= payment.memo.path %>" value="<%= payment.memo.value %>" />
            </td>
            <td>
              <input class="clean-text-input fform money-6" type="text"
                name="<%= payment.amount.path %>" value="<%= payment.amount.value %>" />
            </td>
          </tr>
        <% } %>
        </table>
        <table class="input">
          <th>
            <td>Direct Pays</td>
          </th>
        <%
        i = 0;
        for (; i < direct_pays.length; i += 1) {
          payment = direct_pays[i]; %>
          <tr>
            <td>
              <input class="clean-text-input fform memo" type="text"
                name="<%= payment.path %>" value="<%= payment.value %>" />
            </td>
          </tr>
        <% } %>
        </table>
      ]]></template>
      <fieldset id="jobs-special-orders" class="fform content-panel">
        <h4 class="section-header">Special Orders</h4>
      </fieldset>
      <fieldset id="jobs-subcontractors" class="fform content-panel">
        <h4 class="section-header">Sub Conractors</h4>
      </fieldset>
      <fieldset id="jobs-siding" class="fform content-panel">
        <h4 class="section-header">Siding</h4>
      </fieldset>
      <fieldset id="jobs-roofing" class="fform content-panel">
        <h4 class="section-header">Roofing</h4>
      </fieldset>
      <fieldset id="jobs-permits" class="fform content-panel">
        <h4 class="section-header">Permits</h4>
      </fieldset>
      <fieldset id="jobs-estimate" class="fform content-panel">
        <h4 class="section-header">Estimate</h4>
      </fieldset>
      <fieldset id="jobs-profitandtaxes" class="fform content-panel">
        <h4 class="section-header">Finances</h4>
      </fieldset>
    </form><!-- job-view -->
  </div><!-- panel-jobs -->

  <!-- ### Personnel panel -->
  <div id="personnel" class="tab-panel">
    <!-- #### Personnel panel navigation -->
    <ul id="personnel-panel-navigation" class="panel-navigation">
      <li class="panel-navigation personnel home">
        <a href="personnel/home" class="bbq panel-navigation">
          Personnel Panel
        </a>
      </li>
      <li class="panel-navigation personnel directory">
        <a href="personnel/directory" class="bbq panel-navigation">
          Directory
        </a>
      </li>
      <li class="panel-navigation personnel create">
        <a href="personnel/create" class="cmd panel-navigation">
          Create
        </a>
      </li>
    </ul>
    <!-- #### Personnel home widget -->
    <div id="personnel-home" class="inner-tab-panel">
      <p>Personnel home.</p>
    </div>
    <!-- #### Personnel directory widget -->
    <div id="personnel-directory" class="personnel-panel inner-tab-panel">
      <ul id="personnel-group-list">
      </ul>
    </div>
    <!-- #### Personnel directory template -->
    <template id="personnel_directory-template"><![CDATA[
      <%
      var group_name, group, i, member;
      for (group_name in groups) {
        if (Object.prototype.hasOwnProperty.call(groups, group_name)) {
        group = groups[group_name]; %>
      <li class="personnel-group">
        <h4 class="personnel-group-name"><%= group_name %></h4>
        <ul class="personnel-group-members">
          <%
          for (i = 0; i < group.length; i += 1) {
            member = group[i]; %>
          <li class="employee">
          <a class="bbq employee-directory"
            href="personnel/view?key=<%= member.key %>">
            <%= member.name %>
          </a>
          </li>
          <%
          } %>
        </ul>
      </li>
      <%
        }
      } %>
    ]]></template>

    <!-- #### Personnel view widget -->
    <form id="personnel-view" class="fform personnel-panel inner-tab-panel">
      <fieldset id="personnel-name" class="fform content-panel">
        <h4 class="section-header">Name</h4>
      </fieldset>
      <template id="personnel_name-template"><![CDATA[
        <h4 class="section-header">Name</h4>
        <div class="input-section">
          <div class="line">
            <p class="input-float"><label class="live-label">last:</label>
              <input class="clean-text-input fform lastname" type="text"
                name="<%= name.last.path %>" value="<%= name.last.value %>" />
            </p>
            <p class="input-float"><label class="live-label">first:</label>
              <input class="clean-text-input fform firstname" type="text"
                name="<%= name.first.path %>" value="<%= name.first.value %>" />
            </p>
          </div>
        </div>
      ]]></template>
      <fieldset id="personnel-phones" class="fform content-panel">
        <h4 class="section-header">Phone Numbers</h4>
      </fieldset>
      <template id="personnel_phones-template"><![CDATA[
        <h4 class="section-header">Phone Numbers</h4>
        <%
        var i = 0, len = phones.length, phone;
        for (; i < len; i += 1) {
        phone = phones[i]; %>
        <div class="input-section">
          <div class="line">
            <p class="input-float">
              <label class="live-label">number:</label>
              <input class="clean-text-input fform phone" type="text"
                name="<%= phone.phone.path %>" value="<%= phone.phone.value %>" />
            </p>
            <p class="input-float">
              <label class="live-label">label:</label>
              <input class="clean-text-input fform label" type="text"
                name="<%= phone.label.path %>" value="<%= phone.label.value %>" />
            </p>
          </div>
        </div>
        <%
        } %>
        <a href="phones" class="append fform button" title="Add another phone number.">
          <span class="icon">+</span>
          Add another phone number.
        </a>
      ]]></template>
      <fieldset id="personnel-groups" class="fform content-panel">
        <h4 class="section-header">Groups</h4>
      </fieldset>
      <template id="personnel_groups-template"><![CDATA[
        <h4 class="section-header">Groups</h4>
        <div class="input-section">
          <div class="line">
            <p class="input-float">
              <label class="live-label">groups:</label>
              <input class="clean-text-input fform groups" type="text"
                name="<%= groups.path %>" value="<%= groups.value %>" />
            </p>
          </div>
        </div>
      ]]></template>
      <fieldset id="personnel-addresses" class="fform content-panel">
        <h4 class="section-header">Addresses</h4>
      </fieldset>
      <template id="personnel_addresses-template"><![CDATA[
        <h4 class="section-header">Addresses</h4>
        <%
        var i = 0, len = addresses.length, address;
        for (; i < len; i += 1) {
          address = addresses[i]; %>
        <div class="input-section">
          <div class="line">
            <p>
              <label class="live-label">street:</label>
              <input class="clean-text-input fform street-address" type="text"
                name="<%= address.street.path %>" value="<%= address.street.value %>" />
            </p>
          </div>
          <div class="line">
            <p class="input-float">
              <label class="live-label">city:</label>
              <input class="clean-text-input fform city" type="text"
                name="<%= address.city.path %>" value="<%= address.city.value %>" />
            </p>
            <p class="input-float">
              <label class="live-label">state:</label>
              <input class="clean-text-input fform state-address" type="text"
                name="<%= address.state.path %>" value="<%= address.state.value %>" />
            </p>
            <p class="input-float">
              <label class="live-label">zip:</label>
              <input class="clean-text-input fform zip" type="text"
                name="<%= address.zip.path %>" value="<%= address.zip.value %>" />
            </p>
          </div>
        </div>
        <%
        } %>
        <a href="addresses" class="append fform button" title="Add another customer address.">
          <span class="icon">+</span>
          Add another address.
        </a>
      ]]></template>
    </form><!-- personnel-view -->
  </div><!-- panel-personnel -->
</div><!-- tabset -->

<!--
## Search panels
-->

<!-- ### Job search panel -->
<div id="job-search" class="content-panel search-panel">
  <h4 class="search-header">
    Job Search
    <a href="search/none" class="bbq panel-close">x</a>
  </h4>
  <ul id="job-search-results" class="search-results-list">
  </ul>
</div><!-- job-search -->

<!-- ### Customer search panel -->
<div id="customer-search" class="content-panel search-panel">
  <h4 class="search-header">
    Customer Search
    <a href="search/none" class="bbq panel-close">x</a>
  </h4>
  <form id="customer-search-form">
    <label class="customer-search-form">
      Last name starts with...
    </label>
    <input id="customer-search-lastname" class="customer-search-form" type="text" />
    <button id="customer-search-button">Find</button>
  </form>
  <ul id="customer-search-results" class="search-results-list">
  </ul>
  <template id="customer_search_results-template"><![CDATA[
    <%
    var i = 0, customer;
    for (; i < customers.length; i += 1) {
    customer = customers[i]; %>
    <li class="search-result">
      <a class="<%= link_class %> search-result" href="<%= link_hash %><%= customer.key %>">
        <span class="customer search-result name">
          <%= customer.names[0].first %> <%= customer.names[0].last %>
        </span>
        <span class="customer search-result address">
          <%= customer.addresses[0].street || 'address unknown' %>,
          <%= customer.addresses[0].city || 'city unkown' %>
        </span>
      </a>
    </li>
    <% } %>
  ]]></template>
</div><!-- customer-search -->

</div>
</overlay>
